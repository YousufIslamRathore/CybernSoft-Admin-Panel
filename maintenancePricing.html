<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prices</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous" />
    <link rel="stylesheet" href="./styles/style.css" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="shortcut icon" href="./images/favicon/favicon.ico" type="image/x-icon">

    <style>
        .maintenancePriceTr > td:last-child > div{
            display: flex;
            justify-content: center;

        }
        .maintenancePriceTr > td:last-child > div > div:last-child{
            margin: 0 10px !important;
        }
        .maintenancePriceTr > td i {
            color: #186EB1;
        }
    </style>

</head>

<body>
    <section class="usersPage">
        <!-- Side Bar -->
        <section class="usersPageSideBar">
            <h1>
                <img src="./images/ZSZ - White.png" alt="" width="28%" />
                <span><span class="zeeshan">ZEESHAN</span><br /><span class="saleem">SALEEM</span><br /><span
                        class="zaki">ZAKI</span></span>
            </h1>

            <section class="sideBarListContainer">

                <div class="pageSelectors" onclick="pageSelector(0)">
                    <?php $visible = ""; if($page == "newuser")$visible = "visible"?>

                    <i class="fa-solid fa-circle selectedSideBarCirclePointer <?php echo $visible?>"></i>
                    <section>
                        <i class="fa-solid fa-users"></i>
                    </section>
                    <p onclick="newUser()">Users</p>
                </div>
                <div class="pageSelectors" onclick="pageSelector(1)">
                    <?php $visible = ""; if($page == "orders")$visible = "visible"?>

                    <i class="fa-solid fa-circle selectedSideBarCirclePointer <?php echo $visible?>"></i>
                    <section>
                        <i class="fa-solid fa-truck-fast"></i>
                    </section>
                    <p onclick="orders()">Tankers</p>
                </div>
                <div class="pageSelectors" onclick="pageSelector(2)">
                    <?php $visible = ""; if($page == "maintenance")$visible = "visible"?>
                    <i class="fa-solid fa-circle selectedSideBarCirclePointer <?php echo $visible?> "></i>
                    <section>
                        <i class="fa-solid fa-coins"></i>
                    </section>
                    <p onclick="maintenance()">Maintenance</p>
                </div>
                <div class="pageSelectors" onclick="pageSelector(3)">
                    <?php $visible = ""; if($page == "routes")$visible = "visible"?>
                    <i class="fa-solid fa-circle selectedSideBarCirclePointer <?php echo $visible?>"></i>
                    <section>
                        <i class="fa-solid fa-coins"></i>
                    </section>
                    <p onclick="routes()">Routes</p>
                </div>
                <div class="pageSelectors" onclick="pageSelector(4)">
                    <?php $visible = ""; if($page == "user_logs")$visible = "visible"?>

                    <i class="fa-solid fa-circle selectedSideBarCirclePointer <?php echo $visible?>"></i>
                    <section>
                        <i class="fa-solid fa-chart-simple"></i>
                    </section>
                    <p onclick="user_logs()">User Logs</p>
                </div>
                <div class="pageSelectors" onclick="pageSelector(5)">
                    <?php $visible = ""; if($page == "admin")$visible = "visible"?>
                    <i class="fa-solid fa-circle selectedSideBarCirclePointer <?php echo $visible?>"></i>
                    <section>
                        <i class="fa-solid fa-user-cog"></i>
                    </section>
                    <p onclick="admin()">Admin Auth</p>
                </div>
                <div class="pageSelectors" onclick="pageSelector(6)">
                    <i class="fa-solid fa-circle selectedSideBarCirclePointer"></i>
                    <section>
                        <i class="fa-solid fa-chart-pie"></i>
                    </section>
                    <p>Summary</p>
                </div>
                <div class="pageSelectors" onclick="pageSelector(7)">
                    <?php $visible = ""; if($page == "notification")$visible = "visible"?>
                    <i class="fa-solid fa-circle selectedSideBarCirclePointer <?php echo $visible?>"></i>
                    <section>
                        <i class="fa-solid fa-bullhorn"></i>
                    </section>
                    <p onclick="notification()">Notification</p>
                </div>
                <div class="pageSelectors" onclick="pageSelector(8)">
                    <?php $visible = ""; if($page == "inboxPage")$visible = "visible"?>
                    <i class="fa-solid fa-circle selectedSideBarCirclePointer <?php echo $visible?>"></i>
                    <section>
                        <i class="far fa-comments"></i>
                    </section>
                    <p onclick="inboxPage()">Chat</p>
                </div>
                <div class="pageSelectors" onclick="pageSelector(9)">
                    <?php $visible = ""; if($page == "inboxPage")$visible = "visible"?>
                    <i class="fa-solid fa-circle selectedSideBarCirclePointer <?php echo $visible?>"></i>
                    <section>
                        <i class="far fa-comments"></i>
                    </section>
                    <p onclick="inboxPage()">Utilities & Bills</p>
                </div>
                <div class="pageSelectors" onclick="pageSelector(10)">
                    <i class="fa-solid fa-circle selectedSideBarCirclePointer"></i>
                    <section>
                        <i class="fa-solid fa-chart-pie"></i>
                    </section>
                    <p onclick="logout()">Logout</p>
                </div>
            </section>
        </section>
        <section class="usersPageMainPanel">

            <section class="maintenancePricingMainSection">

                <table>
                    <thead>
                        <tr>
                            <th style="border-radius: 10px 0 0 0">Blocks</th>
                            <th style="border-radius: 0 10px 0 0">Per Unit Price</th>
                        </tr>
                    </thead>
                    <tbody style="border-radius: 0 0 10px 10px;" id="maintenancePricingTableBody">
                        <!-- <tr>
                            <td>Block A</td>
                            <td>Rs. 3350/=</td>
                        </tr>
                        <tr>
                            <td>Block B</td>
                            <td>Rs. 3350/=</td>
                        </tr>
                        <tr>
                            <td>Block R</td>
                            <td>Rs. 3350/=</td>
                        </tr>
                        <tr>
                            <td>Block R1</td>
                            <td>Rs. 3350/=</td>
                        </tr>
                        <tr>
                            <td>Block R2</td>
                            <td>Rs. 3350/=</td>
                        </tr>
                        <tr style="border-radius: 0 0 10px 10px">
                            <td style="border-radius: 0 0 10px 0;">Block RG</td>
                            <td style="border-radius: 0 0 0 10px;">Rs. 3350/=</td>
                        </tr> -->
                    </tbody>
                </table>

            </section>
        </section>
    </section>

</body>

<script>
    const tbody = document.getElementById('maintenancePricingTableBody');
    let blockPrice = [
        {
            block: 'A',
            price: 3500
        },
        {
            block: 'B',
            price: 3300
        },
        {
            block: 'R',
            price: 3000
        },
        {
            block: 'R1',
            price: 3670
        },
        {
            block: 'R2',
            price: 3400
        },
        {
            block: 'RG',
            price: 3500
        }
    ]

    const tableGenerator = () => {
        for(let trNo = 0; trNo < blockPrice.length ; trNo++) {
            let tr = document.createElement('tr');
            tr.className = 'maintenancePriceTr'

            let blockTd = document.createElement('td');
            let blockTdText = document.createTextNode(`Block ${blockPrice[trNo].block}`);
            
            let priceTd = document.createElement('td');
            // priceTd.setAttribute('onclick', `editMaintenancePrice(this, ${trNo})`);
            
            let lastTdMainInnerContainer = document.createElement('div');
            
            let priceTdTextContainer = document.createElement('div')
            
            let priceTdText = document.createTextNode(`Rs. ${blockPrice[trNo].price}/=`)
            
            let editIconContainer = document.createElement('div');
            editIconContainer.setAttribute('onclick', `editMaintenancePrice(this, ${trNo})`);
            
            let editIcon = document.createElement('i');
            editIcon.className = 'fa-solid fa-pen-to-square';
            
            
            blockTd.appendChild(blockTdText);

            editIconContainer.appendChild(editIcon)
            priceTdTextContainer.appendChild(priceTdText);     
            
            lastTdMainInnerContainer.appendChild(priceTdTextContainer);
            lastTdMainInnerContainer.appendChild(editIconContainer);
            
            priceTd.appendChild(lastTdMainInnerContainer);

            tr.appendChild(blockTd);
            tr.appendChild(priceTd);
            tbody.appendChild(tr);
        }
    }

    tableGenerator()

    const editMaintenancePrice = (element, key) => {
        let inputPrice = +prompt(`Enter New Price for Block ${blockPrice[key].block}`)
        for(let i = 0; i < blockPrice.length; i++)
        Object.keys(blockPrice[i]).forEach((item) => {
            if (typeof blockPrice[i][item] == 'number' && i == key && inputPrice) {
                blockPrice[i][item] = inputPrice
            }
        })
        renewTable()
    }
    
    const renewTable = () => {
        tbody.innerHTML = ''
        tableGenerator()
    }
</script>

<script src="./scripts/app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
    integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
    crossorigin="anonymous"></script>

</html>